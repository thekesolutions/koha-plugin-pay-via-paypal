(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{314:function(e,t,r){var content=r(356);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(61).default)("75876314",content,!0,{sourceMap:!1})},355:function(e,t,r){"use strict";var n=r(314);r.n(n).a},356:function(e,t,r){(e.exports=r(60)(!1)).push([e.i,".rotate{transform:rotate(180deg)}.rotatable{transition:transform .3s}",""])},399:function(e,t,r){"use strict";r.r(t);r(37),r(20),r(16),r(14),r(34),r(42),r(43),r(52);var n=r(8),o=(r(191),r(11)),l=r(116),c=r(398),d=r(358),v=r(396),m=r.n(v),f=r(397),_=r.n(f);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x,k={name:"Configure",components:{VJsonschemaForm:c.a,Property:d.a},data:function(){return{selected_idx:0,prev_selected_idx:0,next_selected_idx:0,general:{},dummy:{},mini:!1,default_inherit:[],library_add:null,gen_form_valid:!0,lib_form_valid:!0,dialog:!1,options:{debug:!0,disableAll:!1,autoFoldObjects:!1,accordionMode:"normal",requiredMessage:this.$t("required")}}},computed:y({},Object(l.d)({generalConfs:function(e){return m.a.merge({},e.general)},libraryConfs:function(e){return m.a.merge([],e.libConfs)},snack:"snackbar"}),{},Object(l.d)("libraries",{libraries:function(e){return m.a.merge([],e.list)}}),{showSnackbar:{get:function(){return!!this.snack},set:function(){this.snackbar(!1)}},schema:y({},Object(l.d)("schema",{get:function(e){return m.a.merge({},e.schema)}}),{},Object(l.c)("schema",{set:"set_schema"})),defaultActive:function(){return this.schema.properties.perLibraryOptions&&this.schema.properties.perLibraryOptions.properties.active&&this.libraryConfs.find((function(e){return null===e.library_id})).active},libDialog:function(){return this.dialog&&this.selected_idx>0&&this.defaultActive},defDialog:function(){return this.dialog&&(0===this.selected_idx||!this.defaultActive)}}),fetch:(x=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,t.params,e.next=3,r.dispatch("get_configs");case 3:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),methods:y({},Object(l.c)(["general_confs","library_confs","snackbar"]),{},Object(l.b)({store:"save"}),{save:function(){this.general_confs(m.a.merge({},this.generalConfs)),this.library_confs(m.a.merge([],this.libraryConfs)),this.store()},getColor:function(e){return _.a.getColor({text:e.library_id||this.$t("all")})},getTextColor:function(e){return this.getContrastYIQ(this.getColor(e))},getName:function(e){return e.library_id?this.libraries&&this.libraries.length?this.libraries.find((function(t){return t.library_id===e.library_id})).name:"":this.$t("allLibs")},stringToColor:function(e){return _.a.getColor({text:e})},addLibrary:function(){this.library_add&&(this.libraryConfs.push({library_id:this.library_add}),this.library_add=null)},getContrastYIQ:function(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=125?"black--text":"white--text"},unconfLibraries:function(){var e=this;return this.libraries.filter((function(t){return t.library_id&&!e.libraryConfs.find((function(e){return t.library_id===e.library_id}))}))},setInherit:function(e,t){return e.hasOwnProperty("x-set-inherit")||this.$set(e,"x-set-inherit",null===t),e},checkForm:function(e,i){var t=this;if(!this.$refs.lib_form.validate())return this.dialog=!0,this.$nextTick((function(){t.next_selected_idx=t.prev_selected_idx,t.prev_selected_idx=t.selected_idx})),void e.preventDefault();this.$nextTick((function(){t.selected_idx=t.prev_selected_idx}))},forcedContinue:function(){var e=this;this.dialog=!1,this.$refs.lib_form.inputs.forEach((function(input){input.validate()||(input.value=null)})),this.$nextTick((function(){e.selected_idx=e.prev_selected_idx=e.next_selected_idx}))}})},w=(r(355),r(62)),C=r(83),O=r.n(C),V=r(603),j=r(491),L=r(364),D=r(402),N=r(395),I=r(310),$=r(601),S=r(593),A=r(589),P=r(594),T=r(595),F=r(386),E=r(596),R=r(365),J=r(367),K=r(336),M=r(369),Q=r(307),W=r(370),Y=r(599),B=r(597),G=r(311),X=r(598),z=r(592),component=Object(w.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("v-container",[e.schema&&e.schema.properties&&e.schema.properties.generalOptions?r("v-card",[r("v-card-actions",[r("v-btn",{attrs:{disabled:!e.gen_form_valid||!e.lib_form_valid},on:{click:function(t){return e.save()}}},[r("v-icon",[e._v("mdi-check")]),e._v(" "),r("span",{directives:[{name:"t",rawName:"v-t",value:"save",expression:"'save'"}]})],1)],1),e._v(" "),r("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"generalOps.title",expression:"'generalOps.title'"}]}),e._v(" "),r("v-card-text",[r("v-form",{ref:"gen_form",model:{value:e.gen_form_valid,callback:function(t){e.gen_form_valid=t},expression:"gen_form_valid"}},[r("v-jsonschema-form",{attrs:{schema:e.schema.properties.generalOptions,model:e.generalConfs,options:e.options}})],1)],1)],1):e._e(),e._v(" "),e.schema&&e.schema.properties&&e.schema.properties.perLibraryOptions?r("v-card",[r("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"perLibraryOps.title",expression:"'perLibraryOps.title'"}]}),e._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{md:"auto"}},[r("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:""}},[r("v-list-item",[r("v-btn",{staticClass:"rotatable",class:{rotate:e.mini},attrs:{icon:""},on:{click:function(t){e.mini=!e.mini}}},[r("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),r("v-slide-x-transition",[r("v-autocomplete",{attrs:{items:e.unconfLibraries(),"item-text":"name","item-value":"library_id",label:e.$t("addLib"),hint:"Search to add a library"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addLibrary()}},model:{value:e.library_add,callback:function(t){e.library_add=t},expression:"library_add"}})],1),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addLibrary()}}},[r("v-icon",[e._v("mdi-plus")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list",[r("v-list-item-group",{attrs:{mandatory:"",color:"primary"},model:{value:e.prev_selected_idx,callback:function(t){e.prev_selected_idx=t},expression:"prev_selected_idx"}},e._l(e.libraryConfs,(function(t,i){return r("v-list-item",{key:i,ref:"lib_"+i,refInFor:!0,attrs:{inactive:e.selected_idx!==i},on:{click:function(t){return t.stopPropagation(),e.checkForm(t,i)}}},[r("v-list-item-avatar",[r("v-avatar",{staticClass:"font-weight-black",class:e.getTextColor(t),attrs:{color:e.getColor(t)}},[e._v("\n                        "+e._s(t.library_id||e.$t("all"))+"\n                      ")])],1),e._v(" "),r("v-list-item-content",{attrs:{transition:"fade-transition"}},[r("v-list-item-title",[e._v(e._s(e.getName(t)))])],1)],1)})),1)],1)],1)],1),e._v(" "),r("v-col",[r("v-form",{ref:"lib_form",model:{value:e.lib_form_valid,callback:function(t){e.lib_form_valid=t},expression:"lib_form_valid"}},[e._l(e.libraryConfs,(function(t,i){return[e.selected_idx===i?r("v-jsonschema-form",{key:i,attrs:{schema:e.schema.properties.perLibraryOptions,model:t,options:e.options},scopedSlots:e._u([null!=t.library_id&&e.defaultActive?{key:"prepend-custom-inherit",fn:function(t){var n=t.model,o=(t.modelWrapper,t.modelKey),l=(t.modelRoot,t.schema);return[r("v-col",{attrs:{cols:l["x-set-inherit"]?12:2}},[r("v-checkbox",{attrs:{hint:e.$t("perLibraryOps.use"),"persistent-hint":!l["x-set-inherit"]},scopedSlots:e._u([{key:"label",fn:function(){return[l["x-set-inherit"]?r("div",[e._v("\n                            "+e._s(e.$t("perLibraryOps.using",{name:l.title||o}))+"\n                          ")]):e._e()]},proxy:!0}],null,!0),model:{value:e.setInherit(l,n)["x-set-inherit"],callback:function(t){e.$set(e.setInherit(l,n),"x-set-inherit",t)},expression:"setInherit(schema, model)['x-set-inherit']"}})],1)]}}:null,null!=t.library_id&&e.defaultActive?{key:"custom-inherit",fn:function(t){var n=t.schema,o=t.modelWrapper,l=t.modelKey,c=t.modelRoot,d=t.options,v=t.fullKey,m=t.required;return[r("v-col",{attrs:{cols:"10"}},[n["x-set-inherit"]?e._e():r("property",{attrs:{schema:n,"model-wrapper":o,"model-key":l,"parent-key":v,"model-root":c,required:m,options:d}})],1)]}}:null],null,!0)}):e._e()]}))],2),e._v(" "),r("v-dialog",{attrs:{"max-width":"600"},model:{value:e.libDialog,callback:function(t){e.libDialog=t},expression:"libDialog"}},[r("v-card",[r("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"dialog.change",expression:"'dialog.change'"}],staticClass:"headline"}),e._v(" "),r("v-card-text",[r("v-list",[r("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"dialog.invalid",expression:"'dialog.invalid'"}],staticClass:"body-1"}),e._v(" "),r("v-list-item",[r("v-alert",{directives:[{name:"t",rawName:"v-t",value:"dialog.warning",expression:"'dialog.warning'"}],attrs:{type:"warning"}})],1),e._v(" "),r("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"dialog.continue",expression:"'dialog.continue'"}],staticClass:"body-1"})],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{directives:[{name:"t",rawName:"v-t",value:"cancel",expression:"'cancel'"}],attrs:{color:"primary",outlined:""},on:{click:function(t){e.dialog=!1}}}),e._v(" "),r("v-btn",{directives:[{name:"t",rawName:"v-t",value:"continue",expression:"'continue'"}],attrs:{color:"primary",outlined:""},on:{click:function(t){return e.forcedContinue()}}})],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{"max-width":"600"},model:{value:e.defDialog,callback:function(t){e.defDialog=t},expression:"defDialog"}},[r("v-card",[r("v-card-title",{directives:[{name:"t",rawName:"v-t",value:"dialog.mandatory",expression:"'dialog.mandatory'"}],staticClass:"headline"}),e._v(" "),r("v-card-text",[r("v-list",[r("v-list-item",{directives:[{name:"t",rawName:"v-t",value:"dialog.invalid",expression:"'dialog.invalid'"}],staticClass:"body-1"}),e._v(" "),r("v-list-item",[r("v-alert",{directives:[{name:"t",rawName:"v-t",value:0===e.selected_idx?"dialog.error":"dialog.noDef",expression:"selected_idx===0?'dialog.error':'dialog.noDef'"}],attrs:{type:"error"}})],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{directives:[{name:"t",rawName:"v-t",value:"agree",expression:"'agree'"}],attrs:{color:"primary",outlined:""},on:{click:function(t){e.dialog=!1}}})],1)],1)],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{disabled:!e.gen_form_valid||!e.lib_form_valid},on:{click:function(t){return e.save()}}},[r("v-icon",[e._v("mdi-check")]),e._v(" "),r("span",{directives:[{name:"t",rawName:"v-t",value:"save",expression:"'save'"}]})],1)],1)],1):e._e()],1),e._v(" "),r("v-snackbar",{attrs:{color:e.snack.type,timeout:3e3},model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v("\n    "+e._s(e.snack.message)+"\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;O()(component,{VAlert:V.a,VAutocomplete:j.a,VAvatar:L.a,VBtn:D.a,VCard:N.a,VCardActions:I.a,VCardText:I.b,VCardTitle:I.c,VCheckbox:$.a,VCol:S.a,VContainer:A.a,VContent:P.a,VDialog:T.a,VDivider:F.a,VForm:E.a,VIcon:R.a,VList:J.a,VListItem:K.a,VListItemAvatar:M.a,VListItemContent:Q.a,VListItemGroup:W.a,VListItemTitle:Q.b,VNavigationDrawer:Y.a,VRow:B.a,VSlideXTransition:G.e,VSnackbar:X.a,VSpacer:z.a})}}]);